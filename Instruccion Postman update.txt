
üß™ INSTRUCCIONES PARA PROBAR LA API REST PETCARE EN POSTMAN

============================================
‚úÖ Requisitos previos:
============================================

1. Tener Python y Django instalados.
2. Ejecutar migraciones:
   python manage.py migrate
3. Iniciar el servidor:
   python manage.py runserver
4. Tener Postman instalado.

============================================
üîê 1. REGISTRO de usuarios (`due√±o`, `veterinario`, `cuidador`)
============================================
POST http://localhost:8000/api/registro/
Body (JSON):
{
  "username": "usuario1",
  "email": "usuario1@example.com",
  "password": "12345678",
  "tipo": "due√±o"
}

============================================
üîê 2. LOGIN de usuarios
============================================
POST http://localhost:8000/api/login/
Body (JSON):
{
  "username": "usuario1",
  "password": "12345678"
}
‚û°Ô∏è Guarda el token de la respuesta. Lo usar√°s en las siguientes consultas como Header:
Key: Authorization
Value: Token tu_token_aqui

============================================
üë§ 3. ACTUALIZAR USUARIO
============================================
PUT http://localhost:8000/api/actualizar-usuario/
Headers: Authorization Token
Body (JSON):
{
  "email": "nuevoemail@example.com"
}

============================================
üîë 4. CAMBIAR CONTRASE√ëA
============================================
PUT http://localhost:8000/api/cambiar-password/
Headers: Authorization Token
Body (JSON):
{
  "password_actual": "12345678",
  "nueva_password": "nueva1234",
  "confirmar_password": "nueva1234"
}

============================================
üê∂ 5. REGISTRAR MASCOTA (solo due√±os)
============================================
POST http://localhost:8000/api/mascotas/
Headers: Authorization Token
Body (JSON):
{
  "nombre": "Firulais",
  "especie": "Perro",
  "cuidador": 2
}

============================================
üê∂ 6. LISTAR MASCOTAS
============================================
GET http://localhost:8000/api/mascotas/
Headers: Authorization Token

============================================
üìã 7. REGISTRAR HISTORIA M√âDICA (solo veterinarios)
============================================
POST http://localhost:8000/api/historias/
Headers: Authorization Token
Body (JSON):
{
  "mascota": 1,
  "veterinario": 3,
  "descripcion": "Revisi√≥n general"
}

============================================
üìã 8. VER HISTORIAS POR MASCOTA (solo veterinarios)
============================================
GET http://localhost:8000/api/historias/mascota/1/
Headers: Authorization Token

============================================
üíâ 9. REGISTRAR VACUNA (solo veterinario)
============================================
POST http://localhost:8000/api/vacunas/
Headers: Authorization Token
Body (JSON):
{
  "historia": 1,
  "nombre": "Vacuna Rabia",
  "fecha": "2025-04-18"
}

============================================
üíâ 10. VER VACUNAS
============================================
GET http://localhost:8000/api/vacunas/
Headers: Authorization Token

============================================
üîî 11. REGISTRAR RECORDATORIO (solo due√±os)
============================================
POST http://localhost:8000/api/recordatorios/
Headers: Authorization Token
Body (JSON):
{
  "mascota": 1,
  "mensaje": "Revisi√≥n m√©dica el lunes",
  "fecha": "2025-04-21T10:00:00"
}

============================================
üîî 12. VER RECORDATORIOS
============================================
GET http://localhost:8000/api/recordatorios/
Headers: Authorization Token

============================================
üè• 13. CRUD VETERINARIAS
============================================
GET http://localhost:8000/api/veterinarias/
Headers: Authorization Token

============================================
üìå Notas:
============================================
- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.


============================================
üè• 14. CRUD VETERINARIAS
============================================
POST http://localhost:8000/api/veterinarias/
Headers: Authorization Token

{
  "nombre": "Cl√≠nica MiVetPlus"
}

============================================
üìå Notas:
============================================
- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.


============================================
üè• 15. CRUD VETERINARIAS
============================================
PUT http://localhost:8000/api/veterinarias/#/
Headers: Authorization Token

{
  "nombre": "Cl√≠nica MiVetPlus"
}


============================================
üìå Notas:
============================================
- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.


============================================
üè• 13. CRUD VETERINARIAS
============================================
DELETE http://localhost:8000/api/veterinarias/1/
Headers: Authorization Token

============================================
üìå Notas:
============================================
- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üë§ 17. VER PERFIL Y MASCOTAS (Due√±o)
============================================

GET http://localhost:8000/api/mi-perfil/

- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üßë‚Äçüíª 18. CRUD USUARIOS (solo superusuario)
============================================

GET http://localhost:8000/api/usuarios/
- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üßë‚Äçüíª 19. CRUD USUARIOS (solo superusuario)
============================================

DELETE http://localhost:8000/api/usuarios/5/



- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üßë‚Äçüíª 20. CRUD USUARIOS (solo superusuario)
============================================

POST http://localhost:8000/api/usuarios/

{
  "username": "nuevo_usuario",
  "email": "nuevo@example.com",
  "password": "12345678",
  "tipo": "cuidador",
  "veterinaria": 1
}

- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üßë‚Äçüíª 21.CRUD USUARIOS(solo superusuario)
============================================

PUT http://localhost:8000/api/usuarios/5/

{
  
  "username": "nuevo_usuario",
  "email": "nuevoemail@example.com",
  "password": "12345678",
  "tipo": "due√±o"
}

- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üßπ üî• 22. Eliminar cuenta del usuario autenticado y todo lo relacionado (SEGUN LA CUENTA DEL TOKEN)
============================================

DELETE http://localhost:8000/api/eliminar-cuenta/
- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
ü©∫ üë®‚Äç‚öïÔ∏è 23. Obtener mascotas atendidas por un veterinario (SOLO VETERINARIO)
============================================

GET http://localhost:8000/api/mascotas-atendidas/

- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üè•üë®‚Äç‚öïÔ∏è 24. Obtener veterinarios por cl√≠nica (no necesita token, cualquiera puede mirar)
============================================

GET http://localhost:8000/api/veterinarios-por-clinica/?clinica=MiVetPlus

============================================
üè• üìã 25. Obtener cl√≠nicas disponibles(no necesita token, cualquiera puede mirar)
============================================

GET http://localhost:8000/api/clinicas-disponibles/

============================================
üíâ üêæ 26. Obtener vacunas de una mascota espec√≠fica (duenio y cuidador)
============================================

GET http://localhost:8000/api/vacunas/mascota/1/

- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üÜï üíâ 27: Agregar vacuna a una mascota  (veterinarioo)
============================================

POST http://localhost:8000/api/vacunas/agregar-directo/

{
  "mascota": 1,
  "nombre": "Vacuna Triple",
  "fecha": "2025-04-22",
  "descripcion": "Aplicaci√≥n directa de vacuna triple"
}

- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üìù üê∂ 28: Actualizar informaci√≥n de una mascota (duenio)
============================================

PUT http://localhost:8000/api/mascotas/actualizar/1/

{
  "nombre": "Nina",
  "especie": "Gato"
}
- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üêæ üîç 29: Obtener mascotas por usuario (veterinarioo)
============================================

GET http://localhost:8000/api/mascotas/usuario/1/

- Verifica los IDs de usuarios, mascotas y roles al relacionar.
- Usar Authorization: Token tu_token_aqui en cada consulta protegida.

============================================
üê∂üìÖ 30: CRUD de Eventos de Mascota (paseo, alimentaci√≥n, juegos, etc.)
============================================

POST http://localhost:8000/api/eventos/

{
  "mascota": 1,
  "tipo": "paseo",
  "descripcion": "Caminata larga en el parque",
  "duracion_min": 40
}
Requisitos:
Solo el due√±o o cuidador de la mascota puede crear, ver, editar o eliminar eventos.

Es necesario tener una mascota previamente registrada (verifica su ID).

============================================
üê∂üìÖ 31: CRUD de Eventos de Mascota (paseo, alimentaci√≥n, juegos, etc.)
============================================

GET http://localhost:8000/api/eventos/

Requisitos:
Solo el due√±o o cuidador de la mascota puede crear, ver, editar o eliminar eventos.

Es necesario tener una mascota previamente registrada (verifica su ID).
============================================
üê∂üìÖ 32: CRUD de Eventos de Mascota (paseo, alimentaci√≥n, juegos, etc.)
============================================

PUT http://localhost:8000/api/eventos/4/

{
  "mascota": 1,
  "tipo": "alimentacion",
  "descripcion": "Comida balanceada con croquetas",
  "duracion_min": 10
}

Requisitos:
Solo el due√±o o cuidador de la mascota puede crear, ver, editar o eliminar eventos.

Es necesario tener una mascota previamente registrada (verifica su ID).
============================================
üê∂üìÖ 33: CRUD de Eventos de Mascota (paseo, alimentaci√≥n, juegos, etc.)
============================================

DELETE http://localhost:8000/api/eventos/4/

Requisitos:
Solo el due√±o o cuidador de la mascota puede crear, ver, editar o eliminar eventos.

Es necesario tener una mascota previamente registrada (verifica su ID).

============================================
üßæ üê∂ 34: Obtener historial consolidado de una mascota
============================================

 http://localhost:8000/api/mascotas/historial/1/

 Objetivo
Permitir que el due√±o o cuidador vea el historial completo de actividades/eventos de su mascota.

============================================
üìä üêæ 35: Obtener estad√≠sticas de eventos de una mascota (por fechas)
============================================

GET http://localhost:8000/api/mascotas/estadisticas/1/

Authorization: Token tu_token_de_due√±o_o_cuidador

============================================
üêæüìç 36: CRUD de Recorrido de Mascota 
============================================

POST http://localhost:8000/api/recorridos/

{
  "mascota": 1,
  "distancia_metros": 1200,
  "duracion_minutos": 35,
  "notas": "Paseo tranquilo por el barrio"
}


============================================
üêæüìç 37: CRUD de Recorrido de Mascota 
============================================

GET http://localhost:8000/api/recorridos/

Filtro por mascota:
GET http://localhost:8000/api/recorridos/?mascota=1


============================================
üêæüìç 38: CRUD de Recorrido de Mascota 
============================================

PUT http://localhost:8000/api/recorridos/5/

{
  "mascota": 1,
  "distancia_metros": 1500,
  "duracion_minutos": 40,
  "notas": "Ruta m√°s larga por el parque"
}

============================================
üêæüìç 39: CRUD de Recorrido de Mascota 
============================================

DELETE http://localhost:8000/api/recorridos/5/


============================================
üíâüìÜ 40: N√∫mero total de vacunas aplicadas a una mascota (por rango de fechas)
============================================

GET http://localhost:8000/api/vacunas/total-por-fecha/1/

Authorization: Token tu_token_de_due√±o_o_cuidador_o_veterinario

============================================
üßë‚Äç‚öïÔ∏èüìÖ 41: N√∫mero de visitas al veterinario de una mascota
============================================

GET http://localhost:8000/api/mascotas/visitas-veterinario/1/

Authorization: Token tu_token_de_due√±o_o_cuidador_o_veterinario

============================================
üßæüìä 42: Consolidado de eventos de mascota por tipo
============================================

GET http://localhost:8000/api/mascotas/consolidado-eventos/1/

Authorization: Token tu_token_de_due√±o_o_cuidador

============================================
üìè üêæ 43: Promedio de recorrido diario de una mascota
============================================

GET http://localhost:8000/api/mascotas/promedio-recorrido/1/

Authorization: Token tu_token_de_due√±o_o_cuidador

============================================
üÜî 44: Obtener detalles de un usuario (solo superusuario)
============================================
GET http://localhost:8000/api/usuarios/1/detalle/
Headers:
Authorization: Token token_superusuario

============================================
üë®‚Äç‚öïÔ∏è 45: Ver lista general de veterinarios
============================================
GET http://localhost:8000/api/veterinarios/
Headers:
Authorization: Token token_cualquiera

============================================
üßë‚Äç‚öïÔ∏è 46: Ver lista general de cuidadores
============================================
GET http://localhost:8000/api/cuidadores/
Headers:
Authorization: Token token_cualquiera

============================================
üë®‚Äçüë©‚Äçüëß‚Äçüë¶ 47: Ver lista general de due√±os
============================================
GET http://localhost:8000/api/duenos/
Headers:
Authorization: Token token_cualquiera

============================================
üßæ üìã 48: Ver historias m√©dicas de un veterinario
============================================
GET http://localhost:8000/api/historias/veterinario/3/
Headers:
Authorization: Token token_veterinario

============================================
üßæ üê∂ 49: Ver historias de una mascota atendida por un veterinario espec√≠fico
============================================
GET http://localhost:8000/api/historias/veterinario/3/mascota/1/
Headers:
Authorization: Token token_veterinario

============================================
üìÜ üïí 50: Verificar disponibilidad para cita
============================================
POST http://localhost:8000/api/citas/verificar/
Headers:
Authorization: Token token_due√±o
Body (JSON):
{
  "veterinario": 3,
  "fecha": "2025-06-01",
  "hora": "10:00"
}

============================================
üìÖ üê∂ 51: Crear cita
============================================
POST http://localhost:8000/api/citas/crear/
Headers:
Authorization: Token token_due√±o
Body (JSON):
{
  "mascota": 1,
  "veterinario": 3,
  "fecha": "2025-06-01",
  "hora": "10:00",
  "historia": 1
}

============================================
üìÜ ‚úÖ 52: Ver citas del veterinario por fecha
============================================
GET http://localhost:8000/api/citas/veterinario/?veterinario=3&fecha=2025-06-01
Headers:
Authorization: Token token_veterinario

============================================
‚õîÔ∏è ‚úÖ 53: Actualizar estado de una cita
============================================
PUT http://localhost:8000/api/citas/5/estado/
Headers:
Authorization: Token token_veterinario
Body (JSON):
{
  "estado": "realizada"
}

============================================
üí¨ üë• 54: Listar chats del usuario autenticado
============================================
GET http://localhost:8000/api/chats/
Headers:
Authorization: Token token_usuario

============================================
üí¨ ‚úâÔ∏è 55: Crear u obtener chat entre dos usuarios
============================================
POST http://localhost:8000/api/chats/crear/
Headers:
Authorization: Token token_usuario1
Body (JSON):
{
  "otro_usuario_id": 3
}

============================================
üí¨ üì© 56: Ver mensajes de un chat
============================================
GET http://localhost:8000/api/chats/1/mensajes/
Headers:
Authorization: Token token_usuario1_o_2

============================================
üí¨ üìù 57: Enviar mensaje a un chat
============================================
POST http://localhost:8000/api/chats/1/mensajes/enviar/
Headers:
Authorization: Token token_usuario1_o_2
Body (JSON):
{
  "contenido": "Hola, ¬øc√≥mo est√°s?"
}